{"id":"PAQK","dependencies":[{"name":"C:\\Users\\Lars\\Desktop\\Polyeco\\visitor\\package.json","includedInParent":true,"mtime":1545313051412}],"generated":{"js":"var e={apiKey:\"AIzaSyBrTXlPTks8CPKRbZBSDnTXpPaotL4Wpwg\",authDomain:\"polyeco-eda86.firebaseapp.com\",databaseURL:\"https://polyeco-eda86.firebaseio.com\",projectId:\"polyeco-eda86\",storageBucket:\"polyeco-eda86.appspot.com\",messagingSenderId:\"86781747630\"};firebase.initializeApp(e);var t=firebase.firestore();t.settings({timestampsInSnapshots:!0});var a=document.querySelector(\"#step-2 input[name='name']\"),o=document.querySelector(\"#step-2 input[name='email']\"),n=document.querySelector(\"#step-2 input[name='cardname']\"),r=document.querySelector(\"#step-2 input[name='cardnumber']\"),c=document.querySelector(\"#step-2 input[name='cardmonth']\"),s=document.querySelector(\"#step-2 input[name='cardyear']\"),i=document.querySelector(\"#step-2 input[name='cvv']\"),u=document.querySelector(\".submit\"),m=document.querySelector(\"form .submit\"),l=document.querySelector(\"#step-2 #paymentForm\"),d=document.querySelector(\"form .error-message\"),p=document.querySelector(\"form .checking\"),v=document.querySelector(\"form .submit .container\");function y(e){e.preventDefault(),d.innerHTML=\"\",m.classList.add(\"move-up\"),p.classList.add(\"active\"),setTimeout(h,1e3)}function h(){var e=!0,t=[];validator.isEmail(o.value)||(e=!1,t.push(\"- Invalid email\")),validator.isNumeric(r.value)&&16==r.value.length||(e=!1,t.push(\"- Card number has to be 16 characters\")),(!validator.isNumeric(c.value)||c.value.length<2)&&(e=!1,t.push(\"- Please specify the month by two numeric characters\")),(!validator.isNumeric(s.value)||s.value.length<2)&&(e=!1,t.push(\"- Please specify the exact year of expiration\")),validator.isNumeric(i.value,{min:3})||(e=!1,t.push(\"- CVV has to be 3 characters\")),e?b():(S(),console.log(t),d.innerHTML=t.join(\"<br>\"))}function f(){v.classList.add(\"send\"),p.classList.add(\"send\")}function S(){m.classList.remove(\"move-up\"),p.classList.remove(\"active\")}function b(){console.log(\"RUUN\");var e=JSON.parse(sessionStorage.getItem(\"step1Data\")),n=document.querySelector(\"#step-2 #subcheckbox\").checked?\"Anonymous\":a.value,r=+new Date,c=moment().format(\"DD/MM/YYYY\");t.collection(\"donations\").add({date:c,name:n,email:o.value,amount:e.amount,currency:e.currency,type:e.type,timestamp:r}).then(function(e){window.location=\"../donate/step-3.html\",console.log(\"Document written with ID: \",e.id)}).catch(function(e){console.error(\"Error adding document: \",e)})}l.addEventListener(\"submit\",y);","map":{"mappings":[{"source":"scripts\\donate-2.js","original":{"line":2,"column":0},"generated":{"line":1,"column":0}},{"source":"scripts\\donate-2.js","name":"config","original":{"line":2,"column":4},"generated":{"line":1,"column":4}},{"source":"scripts\\donate-2.js","original":{"line":2,"column":13},"generated":{"line":1,"column":6}},{"source":"scripts\\donate-2.js","original":{"line":3,"column":10},"generated":{"line":1,"column":7}},{"source":"scripts\\donate-2.js","original":{"line":3,"column":10},"generated":{"line":1,"column":14}},{"source":"scripts\\donate-2.js","original":{"line":4,"column":14},"generated":{"line":1,"column":56}},{"source":"scripts\\donate-2.js","original":{"line":4,"column":14},"generated":{"line":1,"column":67}},{"source":"scripts\\donate-2.js","original":{"line":5,"column":15},"generated":{"line":1,"column":99}},{"source":"scripts\\donate-2.js","original":{"line":5,"column":15},"generated":{"line":1,"column":111}},{"source":"scripts\\donate-2.js","original":{"line":6,"column":13},"generated":{"line":1,"column":150}},{"source":"scripts\\donate-2.js","original":{"line":6,"column":13},"generated":{"line":1,"column":160}},{"source":"scripts\\donate-2.js","original":{"line":7,"column":17},"generated":{"line":1,"column":176}},{"source":"scripts\\donate-2.js","original":{"line":7,"column":17},"generated":{"line":1,"column":190}},{"source":"scripts\\donate-2.js","original":{"line":8,"column":21},"generated":{"line":1,"column":218}},{"source":"scripts\\donate-2.js","original":{"line":8,"column":21},"generated":{"line":1,"column":236}},{"source":"scripts\\donate-2.js","name":"firebase","original":{"line":10,"column":0},"generated":{"line":1,"column":251}},{"source":"scripts\\donate-2.js","name":"initializeApp","original":{"line":10,"column":9},"generated":{"line":1,"column":260}},{"source":"scripts\\donate-2.js","name":"config","original":{"line":10,"column":23},"generated":{"line":1,"column":274}},{"source":"scripts\\donate-2.js","original":{"line":13,"column":0},"generated":{"line":1,"column":277}},{"source":"scripts\\donate-2.js","name":"db","original":{"line":13,"column":6},"generated":{"line":1,"column":281}},{"source":"scripts\\donate-2.js","name":"firebase","original":{"line":13,"column":11},"generated":{"line":1,"column":283}},{"source":"scripts\\donate-2.js","name":"firestore","original":{"line":13,"column":20},"generated":{"line":1,"column":292}},{"source":"scripts\\donate-2.js","name":"db","original":{"line":16,"column":0},"generated":{"line":1,"column":304}},{"source":"scripts\\donate-2.js","name":"settings","original":{"line":16,"column":3},"generated":{"line":1,"column":306}},{"source":"scripts\\donate-2.js","original":{"line":16,"column":12},"generated":{"line":1,"column":315}},{"source":"scripts\\donate-2.js","original":{"line":17,"column":25},"generated":{"line":1,"column":316}},{"source":"scripts\\donate-2.js","original":{"line":17,"column":25},"generated":{"line":1,"column":339}},{"source":"scripts\\donate-2.js","original":{"line":24,"column":0},"generated":{"line":1,"column":343}},{"source":"scripts\\donate-2.js","name":"nameInput","original":{"line":24,"column":6},"generated":{"line":1,"column":347}},{"source":"scripts\\donate-2.js","name":"document","original":{"line":24,"column":18},"generated":{"line":1,"column":349}},{"source":"scripts\\donate-2.js","name":"querySelector","original":{"line":24,"column":27},"generated":{"line":1,"column":358}},{"source":"scripts\\donate-2.js","original":{"line":24,"column":41},"generated":{"line":1,"column":372}},{"source":"scripts\\donate-2.js","name":"emailInput","original":{"line":25,"column":6},"generated":{"line":1,"column":402}},{"source":"scripts\\donate-2.js","name":"document","original":{"line":25,"column":19},"generated":{"line":1,"column":404}},{"source":"scripts\\donate-2.js","name":"querySelector","original":{"line":25,"column":28},"generated":{"line":1,"column":413}},{"source":"scripts\\donate-2.js","original":{"line":25,"column":42},"generated":{"line":1,"column":427}},{"source":"scripts\\donate-2.js","name":"cardHolderNameInput","original":{"line":26,"column":6},"generated":{"line":1,"column":458}},{"source":"scripts\\donate-2.js","name":"document","original":{"line":26,"column":28},"generated":{"line":1,"column":460}},{"source":"scripts\\donate-2.js","name":"querySelector","original":{"line":26,"column":37},"generated":{"line":1,"column":469}},{"source":"scripts\\donate-2.js","original":{"line":27,"column":2},"generated":{"line":1,"column":483}},{"source":"scripts\\donate-2.js","name":"cardNumberInput","original":{"line":29,"column":6},"generated":{"line":1,"column":517}},{"source":"scripts\\donate-2.js","name":"document","original":{"line":29,"column":24},"generated":{"line":1,"column":519}},{"source":"scripts\\donate-2.js","name":"querySelector","original":{"line":29,"column":33},"generated":{"line":1,"column":528}},{"source":"scripts\\donate-2.js","original":{"line":30,"column":2},"generated":{"line":1,"column":542}},{"source":"scripts\\donate-2.js","name":"cardMonthInput","original":{"line":32,"column":6},"generated":{"line":1,"column":578}},{"source":"scripts\\donate-2.js","name":"document","original":{"line":32,"column":23},"generated":{"line":1,"column":580}},{"source":"scripts\\donate-2.js","name":"querySelector","original":{"line":32,"column":32},"generated":{"line":1,"column":589}},{"source":"scripts\\donate-2.js","original":{"line":33,"column":2},"generated":{"line":1,"column":603}},{"source":"scripts\\donate-2.js","name":"cardYearInput","original":{"line":35,"column":6},"generated":{"line":1,"column":638}},{"source":"scripts\\donate-2.js","name":"document","original":{"line":35,"column":22},"generated":{"line":1,"column":640}},{"source":"scripts\\donate-2.js","name":"querySelector","original":{"line":35,"column":31},"generated":{"line":1,"column":649}},{"source":"scripts\\donate-2.js","original":{"line":35,"column":45},"generated":{"line":1,"column":663}},{"source":"scripts\\donate-2.js","name":"cardCvvInput","original":{"line":36,"column":6},"generated":{"line":1,"column":697}},{"source":"scripts\\donate-2.js","name":"document","original":{"line":36,"column":21},"generated":{"line":1,"column":699}},{"source":"scripts\\donate-2.js","name":"querySelector","original":{"line":36,"column":30},"generated":{"line":1,"column":708}},{"source":"scripts\\donate-2.js","original":{"line":36,"column":44},"generated":{"line":1,"column":722}},{"source":"scripts\\donate-2.js","name":"submitButton","original":{"line":38,"column":6},"generated":{"line":1,"column":751}},{"source":"scripts\\donate-2.js","name":"document","original":{"line":38,"column":21},"generated":{"line":1,"column":753}},{"source":"scripts\\donate-2.js","name":"querySelector","original":{"line":38,"column":30},"generated":{"line":1,"column":762}},{"source":"scripts\\donate-2.js","original":{"line":38,"column":44},"generated":{"line":1,"column":776}},{"source":"scripts\\donate-2.js","name":"submit","original":{"line":39,"column":6},"generated":{"line":1,"column":787}},{"source":"scripts\\donate-2.js","name":"document","original":{"line":39,"column":15},"generated":{"line":1,"column":789}},{"source":"scripts\\donate-2.js","name":"querySelector","original":{"line":39,"column":24},"generated":{"line":1,"column":798}},{"source":"scripts\\donate-2.js","original":{"line":39,"column":38},"generated":{"line":1,"column":812}},{"source":"scripts\\donate-2.js","name":"paymentForm","original":{"line":40,"column":6},"generated":{"line":1,"column":828}},{"source":"scripts\\donate-2.js","name":"document","original":{"line":40,"column":20},"generated":{"line":1,"column":830}},{"source":"scripts\\donate-2.js","name":"querySelector","original":{"line":40,"column":29},"generated":{"line":1,"column":839}},{"source":"scripts\\donate-2.js","original":{"line":40,"column":43},"generated":{"line":1,"column":853}},{"source":"scripts\\donate-2.js","name":"errorMessage","original":{"line":41,"column":6},"generated":{"line":1,"column":877}},{"source":"scripts\\donate-2.js","name":"document","original":{"line":41,"column":21},"generated":{"line":1,"column":879}},{"source":"scripts\\donate-2.js","name":"querySelector","original":{"line":41,"column":30},"generated":{"line":1,"column":888}},{"source":"scripts\\donate-2.js","original":{"line":41,"column":44},"generated":{"line":1,"column":902}},{"source":"scripts\\donate-2.js","name":"checking","original":{"line":42,"column":6},"generated":{"line":1,"column":925}},{"source":"scripts\\donate-2.js","name":"document","original":{"line":42,"column":17},"generated":{"line":1,"column":927}},{"source":"scripts\\donate-2.js","name":"querySelector","original":{"line":42,"column":26},"generated":{"line":1,"column":936}},{"source":"scripts\\donate-2.js","original":{"line":42,"column":40},"generated":{"line":1,"column":950}},{"source":"scripts\\donate-2.js","name":"submitContainer","original":{"line":43,"column":6},"generated":{"line":1,"column":968}},{"source":"scripts\\donate-2.js","name":"document","original":{"line":43,"column":24},"generated":{"line":1,"column":970}},{"source":"scripts\\donate-2.js","name":"querySelector","original":{"line":43,"column":33},"generated":{"line":1,"column":979}},{"source":"scripts\\donate-2.js","original":{"line":43,"column":47},"generated":{"line":1,"column":993}},{"source":"scripts\\donate-2.js","original":{"line":48,"column":0},"generated":{"line":1,"column":1020}},{"source":"scripts\\donate-2.js","name":"handleSubmitClick","original":{"line":48,"column":9},"generated":{"line":1,"column":1029}},{"source":"scripts\\donate-2.js","name":"e","original":{"line":48,"column":27},"generated":{"line":1,"column":1031}},{"source":"scripts\\donate-2.js","name":"preventDefault","original":{"line":49,"column":4},"generated":{"line":1,"column":1034}},{"source":"scripts\\donate-2.js","name":"preventDefault","original":{"line":49,"column":4},"generated":{"line":1,"column":1036}},{"source":"scripts\\donate-2.js","name":"innerHTML","original":{"line":50,"column":15},"generated":{"line":1,"column":1053}},{"source":"scripts\\donate-2.js","name":"innerHTML","original":{"line":50,"column":15},"generated":{"line":1,"column":1055}},{"source":"scripts\\donate-2.js","original":{"line":50,"column":27},"generated":{"line":1,"column":1065}},{"source":"scripts\\donate-2.js","name":"classList","original":{"line":52,"column":9},"generated":{"line":1,"column":1068}},{"source":"scripts\\donate-2.js","name":"classList","original":{"line":52,"column":9},"generated":{"line":1,"column":1070}},{"source":"scripts\\donate-2.js","name":"add","original":{"line":52,"column":19},"generated":{"line":1,"column":1080}},{"source":"scripts\\donate-2.js","original":{"line":52,"column":23},"generated":{"line":1,"column":1084}},{"source":"scripts\\donate-2.js","name":"classList","original":{"line":53,"column":11},"generated":{"line":1,"column":1095}},{"source":"scripts\\donate-2.js","name":"classList","original":{"line":53,"column":11},"generated":{"line":1,"column":1097}},{"source":"scripts\\donate-2.js","name":"add","original":{"line":53,"column":21},"generated":{"line":1,"column":1107}},{"source":"scripts\\donate-2.js","original":{"line":53,"column":25},"generated":{"line":1,"column":1111}},{"source":"scripts\\donate-2.js","name":"checkingForm","original":{"line":56,"column":13},"generated":{"line":1,"column":1121}},{"source":"scripts\\donate-2.js","name":"checkingForm","original":{"line":56,"column":13},"generated":{"line":1,"column":1132}},{"source":"scripts\\donate-2.js","original":{"line":56,"column":27},"generated":{"line":1,"column":1134}},{"source":"scripts\\donate-2.js","original":{"line":60,"column":0},"generated":{"line":1,"column":1139}},{"source":"scripts\\donate-2.js","name":"checkingForm","original":{"line":60,"column":9},"generated":{"line":1,"column":1148}},{"source":"scripts\\donate-2.js","name":"inputsValid","original":{"line":61,"column":6},"generated":{"line":1,"column":1152}},{"source":"scripts\\donate-2.js","name":"inputsValid","original":{"line":61,"column":6},"generated":{"line":1,"column":1156}},{"source":"scripts\\donate-2.js","original":{"line":61,"column":20},"generated":{"line":1,"column":1159}},{"source":"scripts\\donate-2.js","name":"error","original":{"line":62,"column":6},"generated":{"line":1,"column":1161}},{"source":"scripts\\donate-2.js","original":{"line":62,"column":14},"generated":{"line":1,"column":1163}},{"source":"scripts\\donate-2.js","name":"validator","original":{"line":72,"column":7},"generated":{"line":1,"column":1166}},{"source":"scripts\\donate-2.js","name":"isEmail","original":{"line":72,"column":17},"generated":{"line":1,"column":1176}},{"source":"scripts\\donate-2.js","name":"emailInput","original":{"line":72,"column":25},"generated":{"line":1,"column":1184}},{"source":"scripts\\donate-2.js","name":"value","original":{"line":72,"column":36},"generated":{"line":1,"column":1186}},{"source":"scripts\\donate-2.js","original":{"line":74,"column":18},"generated":{"line":1,"column":1195}},{"source":"scripts\\donate-2.js","original":{"line":74,"column":18},"generated":{"line":1,"column":1198}},{"source":"scripts\\donate-2.js","name":"push","original":{"line":75,"column":10},"generated":{"line":1,"column":1200}},{"source":"scripts\\donate-2.js","name":"push","original":{"line":75,"column":10},"generated":{"line":1,"column":1202}},{"source":"scripts\\donate-2.js","original":{"line":75,"column":15},"generated":{"line":1,"column":1207}},{"source":"scripts\\donate-2.js","name":"validator","original":{"line":79,"column":5},"generated":{"line":1,"column":1227}},{"source":"scripts\\donate-2.js","name":"isNumeric","original":{"line":79,"column":15},"generated":{"line":1,"column":1237}},{"source":"scripts\\donate-2.js","name":"cardNumberInput","original":{"line":79,"column":25},"generated":{"line":1,"column":1247}},{"source":"scripts\\donate-2.js","name":"value","original":{"line":79,"column":41},"generated":{"line":1,"column":1249}},{"source":"scripts\\donate-2.js","original":{"line":80,"column":36},"generated":{"line":1,"column":1257}},{"source":"scripts\\donate-2.js","name":"cardNumberInput","original":{"line":80,"column":4},"generated":{"line":1,"column":1261}},{"source":"scripts\\donate-2.js","name":"value","original":{"line":80,"column":20},"generated":{"line":1,"column":1263}},{"source":"scripts\\donate-2.js","name":"length","original":{"line":80,"column":26},"generated":{"line":1,"column":1269}},{"source":"scripts\\donate-2.js","original":{"line":83,"column":18},"generated":{"line":1,"column":1278}},{"source":"scripts\\donate-2.js","original":{"line":83,"column":18},"generated":{"line":1,"column":1281}},{"source":"scripts\\donate-2.js","name":"push","original":{"line":84,"column":10},"generated":{"line":1,"column":1283}},{"source":"scripts\\donate-2.js","name":"push","original":{"line":84,"column":10},"generated":{"line":1,"column":1285}},{"source":"scripts\\donate-2.js","original":{"line":84,"column":15},"generated":{"line":1,"column":1290}},{"source":"scripts\\donate-2.js","name":"validator","original":{"line":88,"column":5},"generated":{"line":1,"column":1334}},{"source":"scripts\\donate-2.js","name":"isNumeric","original":{"line":88,"column":15},"generated":{"line":1,"column":1344}},{"source":"scripts\\donate-2.js","name":"cardMonthInput","original":{"line":88,"column":25},"generated":{"line":1,"column":1354}},{"source":"scripts\\donate-2.js","name":"value","original":{"line":88,"column":40},"generated":{"line":1,"column":1356}},{"source":"scripts\\donate-2.js","name":"cardMonthInput","original":{"line":89,"column":4},"generated":{"line":1,"column":1364}},{"source":"scripts\\donate-2.js","name":"value","original":{"line":89,"column":19},"generated":{"line":1,"column":1366}},{"source":"scripts\\donate-2.js","name":"length","original":{"line":89,"column":25},"generated":{"line":1,"column":1372}},{"source":"scripts\\donate-2.js","original":{"line":89,"column":34},"generated":{"line":1,"column":1379}},{"source":"scripts\\donate-2.js","original":{"line":92,"column":18},"generated":{"line":1,"column":1384}},{"source":"scripts\\donate-2.js","original":{"line":92,"column":18},"generated":{"line":1,"column":1387}},{"source":"scripts\\donate-2.js","name":"push","original":{"line":93,"column":10},"generated":{"line":1,"column":1389}},{"source":"scripts\\donate-2.js","name":"push","original":{"line":93,"column":10},"generated":{"line":1,"column":1391}},{"source":"scripts\\donate-2.js","original":{"line":93,"column":15},"generated":{"line":1,"column":1396}},{"source":"scripts\\donate-2.js","name":"validator","original":{"line":97,"column":5},"generated":{"line":1,"column":1455}},{"source":"scripts\\donate-2.js","name":"isNumeric","original":{"line":97,"column":15},"generated":{"line":1,"column":1465}},{"source":"scripts\\donate-2.js","name":"cardYearInput","original":{"line":97,"column":25},"generated":{"line":1,"column":1475}},{"source":"scripts\\donate-2.js","name":"value","original":{"line":97,"column":39},"generated":{"line":1,"column":1477}},{"source":"scripts\\donate-2.js","name":"cardYearInput","original":{"line":98,"column":4},"generated":{"line":1,"column":1485}},{"source":"scripts\\donate-2.js","name":"value","original":{"line":98,"column":18},"generated":{"line":1,"column":1487}},{"source":"scripts\\donate-2.js","name":"length","original":{"line":98,"column":24},"generated":{"line":1,"column":1493}},{"source":"scripts\\donate-2.js","original":{"line":98,"column":33},"generated":{"line":1,"column":1500}},{"source":"scripts\\donate-2.js","original":{"line":101,"column":18},"generated":{"line":1,"column":1505}},{"source":"scripts\\donate-2.js","original":{"line":101,"column":18},"generated":{"line":1,"column":1508}},{"source":"scripts\\donate-2.js","name":"push","original":{"line":102,"column":10},"generated":{"line":1,"column":1510}},{"source":"scripts\\donate-2.js","name":"push","original":{"line":102,"column":10},"generated":{"line":1,"column":1512}},{"source":"scripts\\donate-2.js","original":{"line":102,"column":15},"generated":{"line":1,"column":1517}},{"source":"scripts\\donate-2.js","name":"validator","original":{"line":105,"column":7},"generated":{"line":1,"column":1567}},{"source":"scripts\\donate-2.js","name":"isNumeric","original":{"line":105,"column":17},"generated":{"line":1,"column":1577}},{"source":"scripts\\donate-2.js","name":"cardCvvInput","original":{"line":105,"column":27},"generated":{"line":1,"column":1587}},{"source":"scripts\\donate-2.js","name":"value","original":{"line":105,"column":40},"generated":{"line":1,"column":1589}},{"source":"scripts\\donate-2.js","original":{"line":105,"column":47},"generated":{"line":1,"column":1595}},{"source":"scripts\\donate-2.js","name":"min","original":{"line":105,"column":49},"generated":{"line":1,"column":1596}},{"source":"scripts\\donate-2.js","original":{"line":105,"column":54},"generated":{"line":1,"column":1600}},{"source":"scripts\\donate-2.js","original":{"line":107,"column":18},"generated":{"line":1,"column":1606}},{"source":"scripts\\donate-2.js","original":{"line":107,"column":18},"generated":{"line":1,"column":1609}},{"source":"scripts\\donate-2.js","name":"push","original":{"line":108,"column":10},"generated":{"line":1,"column":1611}},{"source":"scripts\\donate-2.js","name":"push","original":{"line":108,"column":10},"generated":{"line":1,"column":1613}},{"source":"scripts\\donate-2.js","original":{"line":108,"column":15},"generated":{"line":1,"column":1618}},{"source":"scripts\\donate-2.js","name":"inputsValid","original":{"line":113,"column":6},"generated":{"line":1,"column":1651}},{"source":"scripts\\donate-2.js","name":"createDonation","original":{"line":115,"column":4},"generated":{"line":1,"column":1653}},{"source":"scripts\\donate-2.js","name":"checkingError","original":{"line":118,"column":4},"generated":{"line":1,"column":1658}},{"source":"scripts\\donate-2.js","name":"log","original":{"line":119,"column":12},"generated":{"line":1,"column":1662}},{"source":"scripts\\donate-2.js","name":"log","original":{"line":119,"column":12},"generated":{"line":1,"column":1670}},{"source":"scripts\\donate-2.js","name":"error","original":{"line":119,"column":16},"generated":{"line":1,"column":1674}},{"source":"scripts\\donate-2.js","name":"innerHTML","original":{"line":120,"column":17},"generated":{"line":1,"column":1677}},{"source":"scripts\\donate-2.js","name":"innerHTML","original":{"line":120,"column":17},"generated":{"line":1,"column":1679}},{"source":"scripts\\donate-2.js","name":"error","original":{"line":120,"column":29},"generated":{"line":1,"column":1689}},{"source":"scripts\\donate-2.js","name":"join","original":{"line":120,"column":35},"generated":{"line":1,"column":1691}},{"source":"scripts\\donate-2.js","original":{"line":120,"column":40},"generated":{"line":1,"column":1696}},{"source":"scripts\\donate-2.js","original":{"line":125,"column":0},"generated":{"line":1,"column":1705}},{"source":"scripts\\donate-2.js","name":"checkingSuccess","original":{"line":125,"column":9},"generated":{"line":1,"column":1714}},{"source":"scripts\\donate-2.js","name":"classList","original":{"line":126,"column":18},"generated":{"line":1,"column":1718}},{"source":"scripts\\donate-2.js","name":"classList","original":{"line":126,"column":18},"generated":{"line":1,"column":1720}},{"source":"scripts\\donate-2.js","name":"add","original":{"line":126,"column":28},"generated":{"line":1,"column":1730}},{"source":"scripts\\donate-2.js","original":{"line":126,"column":32},"generated":{"line":1,"column":1734}},{"source":"scripts\\donate-2.js","name":"classList","original":{"line":127,"column":11},"generated":{"line":1,"column":1742}},{"source":"scripts\\donate-2.js","name":"classList","original":{"line":127,"column":11},"generated":{"line":1,"column":1744}},{"source":"scripts\\donate-2.js","name":"add","original":{"line":127,"column":21},"generated":{"line":1,"column":1754}},{"source":"scripts\\donate-2.js","original":{"line":127,"column":25},"generated":{"line":1,"column":1758}},{"source":"scripts\\donate-2.js","original":{"line":131,"column":0},"generated":{"line":1,"column":1766}},{"source":"scripts\\donate-2.js","name":"checkingError","original":{"line":131,"column":9},"generated":{"line":1,"column":1775}},{"source":"scripts\\donate-2.js","name":"classList","original":{"line":132,"column":9},"generated":{"line":1,"column":1779}},{"source":"scripts\\donate-2.js","name":"classList","original":{"line":132,"column":9},"generated":{"line":1,"column":1781}},{"source":"scripts\\donate-2.js","name":"remove","original":{"line":132,"column":19},"generated":{"line":1,"column":1791}},{"source":"scripts\\donate-2.js","original":{"line":132,"column":26},"generated":{"line":1,"column":1798}},{"source":"scripts\\donate-2.js","name":"classList","original":{"line":133,"column":11},"generated":{"line":1,"column":1809}},{"source":"scripts\\donate-2.js","name":"classList","original":{"line":133,"column":11},"generated":{"line":1,"column":1811}},{"source":"scripts\\donate-2.js","name":"remove","original":{"line":133,"column":21},"generated":{"line":1,"column":1821}},{"source":"scripts\\donate-2.js","original":{"line":133,"column":28},"generated":{"line":1,"column":1828}},{"source":"scripts\\donate-2.js","original":{"line":139,"column":0},"generated":{"line":1,"column":1838}},{"source":"scripts\\donate-2.js","name":"createDonation","original":{"line":139,"column":9},"generated":{"line":1,"column":1847}},{"source":"scripts\\donate-2.js","name":"log","original":{"line":140,"column":10},"generated":{"line":1,"column":1851}},{"source":"scripts\\donate-2.js","name":"log","original":{"line":140,"column":10},"generated":{"line":1,"column":1859}},{"source":"scripts\\donate-2.js","original":{"line":140,"column":14},"generated":{"line":1,"column":1863}},{"source":"scripts\\donate-2.js","name":"step1Data","original":{"line":143,"column":8},"generated":{"line":1,"column":1871}},{"source":"scripts\\donate-2.js","name":"step1Data","original":{"line":143,"column":8},"generated":{"line":1,"column":1875}},{"source":"scripts\\donate-2.js","name":"JSON","original":{"line":143,"column":20},"generated":{"line":1,"column":1877}},{"source":"scripts\\donate-2.js","name":"parse","original":{"line":143,"column":25},"generated":{"line":1,"column":1882}},{"source":"scripts\\donate-2.js","name":"sessionStorage","original":{"line":143,"column":31},"generated":{"line":1,"column":1888}},{"source":"scripts\\donate-2.js","name":"getItem","original":{"line":143,"column":46},"generated":{"line":1,"column":1903}},{"source":"scripts\\donate-2.js","original":{"line":143,"column":54},"generated":{"line":1,"column":1911}},{"source":"scripts\\donate-2.js","name":"name","original":{"line":146,"column":8},"generated":{"line":1,"column":1925}},{"source":"scripts\\donate-2.js","name":"document","original":{"line":145,"column":19},"generated":{"line":1,"column":1927}},{"source":"scripts\\donate-2.js","name":"querySelector","original":{"line":145,"column":28},"generated":{"line":1,"column":1936}},{"source":"scripts\\donate-2.js","original":{"line":145,"column":42},"generated":{"line":1,"column":1950}},{"source":"scripts\\donate-2.js","name":"checked","original":{"line":146,"column":24},"generated":{"line":1,"column":1974}},{"source":"scripts\\donate-2.js","original":{"line":146,"column":34},"generated":{"line":1,"column":1982}},{"source":"scripts\\donate-2.js","name":"nameInput","original":{"line":146,"column":48},"generated":{"line":1,"column":1994}},{"source":"scripts\\donate-2.js","name":"value","original":{"line":146,"column":58},"generated":{"line":1,"column":1996}},{"source":"scripts\\donate-2.js","name":"timestamp","original":{"line":147,"column":8},"generated":{"line":1,"column":2002}},{"source":"scripts\\donate-2.js","original":{"line":147,"column":21},"generated":{"line":1,"column":2005}},{"source":"scripts\\donate-2.js","name":"Date","original":{"line":147,"column":25},"generated":{"line":1,"column":2009}},{"source":"scripts\\donate-2.js","name":"dateToday","original":{"line":150,"column":8},"generated":{"line":1,"column":2014}},{"source":"scripts\\donate-2.js","name":"moment","original":{"line":150,"column":20},"generated":{"line":1,"column":2016}},{"source":"scripts\\donate-2.js","name":"format","original":{"line":150,"column":29},"generated":{"line":1,"column":2025}},{"source":"scripts\\donate-2.js","original":{"line":150,"column":36},"generated":{"line":1,"column":2032}},{"source":"scripts\\donate-2.js","name":"collection","original":{"line":153,"column":5},"generated":{"line":1,"column":2046}},{"source":"scripts\\donate-2.js","name":"collection","original":{"line":153,"column":5},"generated":{"line":1,"column":2048}},{"source":"scripts\\donate-2.js","original":{"line":153,"column":16},"generated":{"line":1,"column":2059}},{"source":"scripts\\donate-2.js","name":"add","original":{"line":154,"column":5},"generated":{"line":1,"column":2072}},{"source":"scripts\\donate-2.js","original":{"line":154,"column":9},"generated":{"line":1,"column":2076}},{"source":"scripts\\donate-2.js","name":"dateToday","original":{"line":155,"column":12},"generated":{"line":1,"column":2077}},{"source":"scripts\\donate-2.js","name":"dateToday","original":{"line":155,"column":12},"generated":{"line":1,"column":2082}},{"source":"scripts\\donate-2.js","name":"name","original":{"line":156,"column":12},"generated":{"line":1,"column":2084}},{"source":"scripts\\donate-2.js","name":"name","original":{"line":156,"column":12},"generated":{"line":1,"column":2089}},{"source":"scripts\\donate-2.js","name":"emailInput","original":{"line":157,"column":13},"generated":{"line":1,"column":2091}},{"source":"scripts\\donate-2.js","name":"emailInput","original":{"line":157,"column":13},"generated":{"line":1,"column":2097}},{"source":"scripts\\donate-2.js","name":"value","original":{"line":157,"column":24},"generated":{"line":1,"column":2099}},{"source":"scripts\\donate-2.js","name":"step1Data","original":{"line":158,"column":14},"generated":{"line":1,"column":2105}},{"source":"scripts\\donate-2.js","name":"step1Data","original":{"line":158,"column":14},"generated":{"line":1,"column":2112}},{"source":"scripts\\donate-2.js","name":"amount","original":{"line":158,"column":24},"generated":{"line":1,"column":2114}},{"source":"scripts\\donate-2.js","name":"step1Data","original":{"line":159,"column":16},"generated":{"line":1,"column":2121}},{"source":"scripts\\donate-2.js","name":"step1Data","original":{"line":159,"column":16},"generated":{"line":1,"column":2130}},{"source":"scripts\\donate-2.js","name":"currency","original":{"line":159,"column":26},"generated":{"line":1,"column":2132}},{"source":"scripts\\donate-2.js","name":"step1Data","original":{"line":160,"column":12},"generated":{"line":1,"column":2141}},{"source":"scripts\\donate-2.js","name":"step1Data","original":{"line":160,"column":12},"generated":{"line":1,"column":2146}},{"source":"scripts\\donate-2.js","name":"type","original":{"line":160,"column":22},"generated":{"line":1,"column":2148}},{"source":"scripts\\donate-2.js","name":"timestamp","original":{"line":161,"column":17},"generated":{"line":1,"column":2153}},{"source":"scripts\\donate-2.js","name":"timestamp","original":{"line":161,"column":17},"generated":{"line":1,"column":2163}},{"source":"scripts\\donate-2.js","name":"then","original":{"line":163,"column":5},"generated":{"line":1,"column":2167}},{"source":"scripts\\donate-2.js","original":{"line":163,"column":10},"generated":{"line":1,"column":2172}},{"source":"scripts\\donate-2.js","name":"docRef","original":{"line":163,"column":19},"generated":{"line":1,"column":2181}},{"source":"scripts\\donate-2.js","name":"location","original":{"line":164,"column":13},"generated":{"line":1,"column":2184}},{"source":"scripts\\donate-2.js","name":"location","original":{"line":164,"column":13},"generated":{"line":1,"column":2191}},{"source":"scripts\\donate-2.js","original":{"line":164,"column":24},"generated":{"line":1,"column":2200}},{"source":"scripts\\donate-2.js","name":"log","original":{"line":165,"column":14},"generated":{"line":1,"column":2224}},{"source":"scripts\\donate-2.js","name":"log","original":{"line":165,"column":14},"generated":{"line":1,"column":2232}},{"source":"scripts\\donate-2.js","original":{"line":165,"column":18},"generated":{"line":1,"column":2236}},{"source":"scripts\\donate-2.js","name":"docRef","original":{"line":165,"column":48},"generated":{"line":1,"column":2265}},{"source":"scripts\\donate-2.js","name":"id","original":{"line":165,"column":55},"generated":{"line":1,"column":2267}},{"source":"scripts\\donate-2.js","name":"catch","original":{"line":167,"column":5},"generated":{"line":1,"column":2273}},{"source":"scripts\\donate-2.js","original":{"line":167,"column":11},"generated":{"line":1,"column":2279}},{"source":"scripts\\donate-2.js","name":"error","original":{"line":167,"column":20},"generated":{"line":1,"column":2288}},{"source":"scripts\\donate-2.js","name":"error","original":{"line":168,"column":14},"generated":{"line":1,"column":2291}},{"source":"scripts\\donate-2.js","name":"error","original":{"line":168,"column":14},"generated":{"line":1,"column":2299}},{"source":"scripts\\donate-2.js","original":{"line":168,"column":20},"generated":{"line":1,"column":2305}},{"source":"scripts\\donate-2.js","name":"error","original":{"line":168,"column":47},"generated":{"line":1,"column":2331}},{"source":"scripts\\donate-2.js","name":"paymentForm","original":{"line":46,"column":0},"generated":{"line":1,"column":2336}},{"source":"scripts\\donate-2.js","name":"addEventListener","original":{"line":46,"column":12},"generated":{"line":1,"column":2338}},{"source":"scripts\\donate-2.js","original":{"line":46,"column":29},"generated":{"line":1,"column":2355}},{"source":"scripts\\donate-2.js","name":"handleSubmitClick","original":{"line":46,"column":39},"generated":{"line":1,"column":2364}}],"sources":{"scripts\\donate-2.js":"// FIREBASE\r\nvar config = {\r\n  apiKey: \"AIzaSyBrTXlPTks8CPKRbZBSDnTXpPaotL4Wpwg\",\r\n  authDomain: \"polyeco-eda86.firebaseapp.com\",\r\n  databaseURL: \"https://polyeco-eda86.firebaseio.com\",\r\n  projectId: \"polyeco-eda86\",\r\n  storageBucket: \"polyeco-eda86.appspot.com\",\r\n  messagingSenderId: \"86781747630\"\r\n};\r\nfirebase.initializeApp(config);\r\n\r\n// Initialize Cloud Firestore through Firebase\r\nconst db = firebase.firestore();\r\n\r\n// Disable deprecated features\r\ndb.settings({\r\n  timestampsInSnapshots: true\r\n});\r\n\r\n//////////////////////////////////////////\r\n\r\n// Validator.js input validation\r\n\r\nconst nameInput = document.querySelector(\"#step-2 input[name='name']\");\r\nconst emailInput = document.querySelector(\"#step-2 input[name='email']\");\r\nconst cardHolderNameInput = document.querySelector(\r\n  \"#step-2 input[name='cardname']\"\r\n);\r\nconst cardNumberInput = document.querySelector(\r\n  \"#step-2 input[name='cardnumber']\"\r\n);\r\nconst cardMonthInput = document.querySelector(\r\n  \"#step-2 input[name='cardmonth']\"\r\n);\r\nconst cardYearInput = document.querySelector(\"#step-2 input[name='cardyear']\");\r\nconst cardCvvInput = document.querySelector(\"#step-2 input[name='cvv']\");\r\n\r\nconst submitButton = document.querySelector(\".submit\");\r\nconst submit = document.querySelector(\"form .submit\");\r\nconst paymentForm = document.querySelector(\"#step-2 #paymentForm\");\r\nconst errorMessage = document.querySelector(\"form .error-message\");\r\nconst checking = document.querySelector(\"form .checking\");\r\nconst submitContainer = document.querySelector(\"form .submit .container\");\r\n\r\n// Look through the form when clicked, display any errors. If no errors were found, go to createDonation();\r\npaymentForm.addEventListener(\"submit\", handleSubmitClick);\r\n\r\nfunction handleSubmitClick(e) {\r\n  e.preventDefault();\r\n  errorMessage.innerHTML = \"\";\r\n  //Activate loading animation\r\n  submit.classList.add(\"move-up\");\r\n  checking.classList.add(\"active\");\r\n\r\n  //Check\r\n  setTimeout(checkingForm, 1000);\r\n}\r\n\r\n//Checking for submit, display loading\r\nfunction checkingForm() {\r\n  let inputsValid = true;\r\n  let error = []; //Store all error massages inside here\r\n\r\n  /*\r\n    BUGFIX - Removed because wrong validator and when user is anyonymous, dont check for any length\r\n  if (!validator.isByteLength(nameInput.value, { min: 3 })) {\r\n    //invalid name\r\n    inputsValid = false;\r\n    error.push(\"- Name has to be at least 3 characters\");\r\n  }\r\n  */\r\n  if (!validator.isEmail(emailInput.value)) {\r\n    //invalid invalid email\r\n    inputsValid = false;\r\n    error.push(\"- Invalid email\");\r\n  }\r\n\r\n  if (\r\n    !validator.isNumeric(cardNumberInput.value) ||\r\n    cardNumberInput.value.length != 16\r\n  ) {\r\n    //invalid card holder name\r\n    inputsValid = false;\r\n    error.push(\"- Card number has to be 16 characters\");\r\n  }\r\n\r\n  if (\r\n    !validator.isNumeric(cardMonthInput.value) ||\r\n    cardMonthInput.value.length < 2\r\n  ) {\r\n    //invalid card month\r\n    inputsValid = false;\r\n    error.push(\"- Please specify the month by two numeric characters\");\r\n  }\r\n\r\n  if (\r\n    !validator.isNumeric(cardYearInput.value) ||\r\n    cardYearInput.value.length < 2\r\n  ) {\r\n    //invalid card year\r\n    inputsValid = false;\r\n    error.push(\"- Please specify the exact year of expiration\");\r\n  }\r\n\r\n  if (!validator.isNumeric(cardCvvInput.value, { min: 3 })) {\r\n    //invalid card CVV\r\n    inputsValid = false;\r\n    error.push(\"- CVV has to be 3 characters\");\r\n  }\r\n\r\n  //inputsValid = true;\r\n\r\n  if (inputsValid) {\r\n    //inputs are valid, continue\r\n    createDonation();\r\n  } else {\r\n    //inputs are invalid, reject\r\n    checkingError();\r\n    console.log(error);\r\n    errorMessage.innerHTML = error.join(\"<br>\");\r\n  }\r\n}\r\n\r\n//Submit was successfull, display the success\r\nfunction checkingSuccess() {\r\n  submitContainer.classList.add(\"send\");\r\n  checking.classList.add(\"send\");\r\n}\r\n\r\n//Submit failed due input errors, revert to button\r\nfunction checkingError() {\r\n  submit.classList.remove(\"move-up\");\r\n  checking.classList.remove(\"active\");\r\n}\r\n\r\n/////////////////////////////////////////////////////////////\r\n\r\n// No errors were found, this function fires off\r\nfunction createDonation() {\r\n  console.log(\"RUUN\");\r\n\r\n  // Session storage from step-1.html, amount of donation + donation type\r\n  const step1Data = JSON.parse(sessionStorage.getItem(\"step1Data\"));\r\n\r\n  const checkBox = document.querySelector(\"#step-2 #subcheckbox\");\r\n  const name = checkBox.checked ? \"Anonymous\" : nameInput.value;\r\n  const timestamp = +new Date();\r\n\r\n  // moment.js real time show\r\n  const dateToday = moment().format(\"DD/MM/YYYY\");\r\n\r\n  // Add information to firebase\r\n  db.collection(\"donations\")\r\n    .add({\r\n      date: dateToday,\r\n      name: name,\r\n      email: emailInput.value,\r\n      amount: step1Data.amount,\r\n      currency: step1Data.currency,\r\n      type: step1Data.type,\r\n      timestamp: timestamp\r\n    })\r\n    .then(function(docRef) {\r\n      window.location = \"../donate/step-3.html\";\r\n      console.log(\"Document written with ID: \", docRef.id);\r\n    })\r\n    .catch(function(error) {\r\n      console.error(\"Error adding document: \", error);\r\n    });\r\n}\r\n"},"lineCount":null}},"hash":"02d763d14de63384a86fd019d64986cf","cacheData":{"env":{}}}