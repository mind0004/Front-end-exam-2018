{"id":"flfJ","dependencies":[{"name":"C:\\Users\\Lars\\Desktop\\Polyeco\\visitor\\package.json","includedInParent":true,"mtime":1545313051412}],"generated":{"js":"var e={apiKey:\"AIzaSyBrTXlPTks8CPKRbZBSDnTXpPaotL4Wpwg\",authDomain:\"polyeco-eda86.firebaseapp.com\",databaseURL:\"https://polyeco-eda86.firebaseio.com\",projectId:\"polyeco-eda86\",storageBucket:\"polyeco-eda86.appspot.com\",messagingSenderId:\"86781747630\"};firebase.initializeApp(e);var t=firebase.firestore();t.settings({timestampsInSnapshots:!0});var a=document.querySelector(\"input[type='submit']\"),o=document.querySelector(\"form .submit\"),s=document.querySelector(\"form .error-message\"),n=document.querySelector(\"form .checking\"),r=document.querySelector(\"form .submit .container\"),c=document.querySelector(\"#research-contact input[name='institute']\"),i=document.querySelector(\"#research-contact input[name='name']\"),u=document.querySelector(\"#research-contact input[name='email']\"),m=document.querySelector(\"#research-contact textarea\");function l(e){e.preventDefault(),s.innerHTML=\"\",o.classList.add(\"move-up\"),n.classList.add(\"active\"),setTimeout(d,1e3)}function d(){var e=!0,t=[];validator.isByteLength(c.value,{min:3})||(e=!1,t.push(\"- Institute name has to be at least 3 characters\")),validator.isByteLength(i.value,{min:3})||(e=!1,t.push(\"- Name has to be at least 3 characters\")),validator.isEmail(u.value)||(e=!1,t.push(\"- Invalid email\")),validator.isByteLength(m.value,{min:15})||(e=!1,t.push(\"- Message has to be at least 15 characters\")),e?h():(v(),console.log(t),s.innerHTML=t.join(\"<br>\"))}function p(){r.classList.add(\"send\"),n.classList.add(\"send\")}function v(){o.classList.remove(\"move-up\"),n.classList.remove(\"active\")}function h(){var e=+new Date,a=moment().format(\"DD/MM/YYYY\");t.collection(\"messages\").add({date:a,institute:c.value,name:i.value,email:u.value,message:m.value,timestamp:e}).then(function(e){console.log(\"Document written with ID: \",e.id),p()}).catch(function(e){console.error(\"Error adding document: \",e),v(),s.textContent=\"Error sending message. Please write directly to hi@polyeco.com\"})}a.addEventListener(\"click\",l);","map":{"mappings":[{"source":"scripts\\research-contact.js","original":{"line":2,"column":0},"generated":{"line":1,"column":0}},{"source":"scripts\\research-contact.js","name":"config","original":{"line":2,"column":4},"generated":{"line":1,"column":4}},{"source":"scripts\\research-contact.js","original":{"line":2,"column":13},"generated":{"line":1,"column":6}},{"source":"scripts\\research-contact.js","original":{"line":3,"column":10},"generated":{"line":1,"column":7}},{"source":"scripts\\research-contact.js","original":{"line":3,"column":10},"generated":{"line":1,"column":14}},{"source":"scripts\\research-contact.js","original":{"line":4,"column":14},"generated":{"line":1,"column":56}},{"source":"scripts\\research-contact.js","original":{"line":4,"column":14},"generated":{"line":1,"column":67}},{"source":"scripts\\research-contact.js","original":{"line":5,"column":15},"generated":{"line":1,"column":99}},{"source":"scripts\\research-contact.js","original":{"line":5,"column":15},"generated":{"line":1,"column":111}},{"source":"scripts\\research-contact.js","original":{"line":6,"column":13},"generated":{"line":1,"column":150}},{"source":"scripts\\research-contact.js","original":{"line":6,"column":13},"generated":{"line":1,"column":160}},{"source":"scripts\\research-contact.js","original":{"line":7,"column":17},"generated":{"line":1,"column":176}},{"source":"scripts\\research-contact.js","original":{"line":7,"column":17},"generated":{"line":1,"column":190}},{"source":"scripts\\research-contact.js","original":{"line":8,"column":21},"generated":{"line":1,"column":218}},{"source":"scripts\\research-contact.js","original":{"line":8,"column":21},"generated":{"line":1,"column":236}},{"source":"scripts\\research-contact.js","name":"firebase","original":{"line":10,"column":0},"generated":{"line":1,"column":251}},{"source":"scripts\\research-contact.js","name":"initializeApp","original":{"line":10,"column":9},"generated":{"line":1,"column":260}},{"source":"scripts\\research-contact.js","name":"config","original":{"line":10,"column":23},"generated":{"line":1,"column":274}},{"source":"scripts\\research-contact.js","original":{"line":13,"column":0},"generated":{"line":1,"column":277}},{"source":"scripts\\research-contact.js","name":"db","original":{"line":13,"column":6},"generated":{"line":1,"column":281}},{"source":"scripts\\research-contact.js","name":"firebase","original":{"line":13,"column":11},"generated":{"line":1,"column":283}},{"source":"scripts\\research-contact.js","name":"firestore","original":{"line":13,"column":20},"generated":{"line":1,"column":292}},{"source":"scripts\\research-contact.js","name":"db","original":{"line":16,"column":0},"generated":{"line":1,"column":304}},{"source":"scripts\\research-contact.js","name":"settings","original":{"line":16,"column":3},"generated":{"line":1,"column":306}},{"source":"scripts\\research-contact.js","original":{"line":16,"column":12},"generated":{"line":1,"column":315}},{"source":"scripts\\research-contact.js","original":{"line":17,"column":25},"generated":{"line":1,"column":316}},{"source":"scripts\\research-contact.js","original":{"line":17,"column":25},"generated":{"line":1,"column":339}},{"source":"scripts\\research-contact.js","original":{"line":21,"column":0},"generated":{"line":1,"column":343}},{"source":"scripts\\research-contact.js","name":"submitButton","original":{"line":21,"column":6},"generated":{"line":1,"column":347}},{"source":"scripts\\research-contact.js","name":"document","original":{"line":21,"column":21},"generated":{"line":1,"column":349}},{"source":"scripts\\research-contact.js","name":"querySelector","original":{"line":21,"column":30},"generated":{"line":1,"column":358}},{"source":"scripts\\research-contact.js","original":{"line":21,"column":44},"generated":{"line":1,"column":372}},{"source":"scripts\\research-contact.js","name":"submit","original":{"line":22,"column":6},"generated":{"line":1,"column":396}},{"source":"scripts\\research-contact.js","name":"document","original":{"line":22,"column":15},"generated":{"line":1,"column":398}},{"source":"scripts\\research-contact.js","name":"querySelector","original":{"line":22,"column":24},"generated":{"line":1,"column":407}},{"source":"scripts\\research-contact.js","original":{"line":22,"column":38},"generated":{"line":1,"column":421}},{"source":"scripts\\research-contact.js","name":"errorMessage","original":{"line":23,"column":6},"generated":{"line":1,"column":437}},{"source":"scripts\\research-contact.js","name":"document","original":{"line":23,"column":21},"generated":{"line":1,"column":439}},{"source":"scripts\\research-contact.js","name":"querySelector","original":{"line":23,"column":30},"generated":{"line":1,"column":448}},{"source":"scripts\\research-contact.js","original":{"line":23,"column":44},"generated":{"line":1,"column":462}},{"source":"scripts\\research-contact.js","name":"checking","original":{"line":24,"column":6},"generated":{"line":1,"column":485}},{"source":"scripts\\research-contact.js","name":"document","original":{"line":24,"column":17},"generated":{"line":1,"column":487}},{"source":"scripts\\research-contact.js","name":"querySelector","original":{"line":24,"column":26},"generated":{"line":1,"column":496}},{"source":"scripts\\research-contact.js","original":{"line":24,"column":40},"generated":{"line":1,"column":510}},{"source":"scripts\\research-contact.js","name":"submitContainer","original":{"line":25,"column":6},"generated":{"line":1,"column":528}},{"source":"scripts\\research-contact.js","name":"document","original":{"line":25,"column":24},"generated":{"line":1,"column":530}},{"source":"scripts\\research-contact.js","name":"querySelector","original":{"line":25,"column":33},"generated":{"line":1,"column":539}},{"source":"scripts\\research-contact.js","original":{"line":25,"column":47},"generated":{"line":1,"column":553}},{"source":"scripts\\research-contact.js","name":"instituteInput","original":{"line":26,"column":6},"generated":{"line":1,"column":580}},{"source":"scripts\\research-contact.js","name":"document","original":{"line":26,"column":23},"generated":{"line":1,"column":582}},{"source":"scripts\\research-contact.js","name":"querySelector","original":{"line":26,"column":32},"generated":{"line":1,"column":591}},{"source":"scripts\\research-contact.js","original":{"line":27,"column":2},"generated":{"line":1,"column":605}},{"source":"scripts\\research-contact.js","name":"nameInput","original":{"line":29,"column":6},"generated":{"line":1,"column":650}},{"source":"scripts\\research-contact.js","name":"document","original":{"line":29,"column":18},"generated":{"line":1,"column":652}},{"source":"scripts\\research-contact.js","name":"querySelector","original":{"line":29,"column":27},"generated":{"line":1,"column":661}},{"source":"scripts\\research-contact.js","original":{"line":30,"column":2},"generated":{"line":1,"column":675}},{"source":"scripts\\research-contact.js","name":"emailInput","original":{"line":32,"column":6},"generated":{"line":1,"column":715}},{"source":"scripts\\research-contact.js","name":"document","original":{"line":32,"column":19},"generated":{"line":1,"column":717}},{"source":"scripts\\research-contact.js","name":"querySelector","original":{"line":32,"column":28},"generated":{"line":1,"column":726}},{"source":"scripts\\research-contact.js","original":{"line":33,"column":2},"generated":{"line":1,"column":740}},{"source":"scripts\\research-contact.js","name":"messageInput","original":{"line":35,"column":6},"generated":{"line":1,"column":781}},{"source":"scripts\\research-contact.js","name":"document","original":{"line":35,"column":21},"generated":{"line":1,"column":783}},{"source":"scripts\\research-contact.js","name":"querySelector","original":{"line":35,"column":30},"generated":{"line":1,"column":792}},{"source":"scripts\\research-contact.js","original":{"line":35,"column":44},"generated":{"line":1,"column":806}},{"source":"scripts\\research-contact.js","original":{"line":40,"column":0},"generated":{"line":1,"column":836}},{"source":"scripts\\research-contact.js","name":"handleSubmitClick","original":{"line":40,"column":9},"generated":{"line":1,"column":845}},{"source":"scripts\\research-contact.js","name":"e","original":{"line":40,"column":27},"generated":{"line":1,"column":847}},{"source":"scripts\\research-contact.js","name":"preventDefault","original":{"line":41,"column":4},"generated":{"line":1,"column":850}},{"source":"scripts\\research-contact.js","name":"preventDefault","original":{"line":41,"column":4},"generated":{"line":1,"column":852}},{"source":"scripts\\research-contact.js","name":"innerHTML","original":{"line":42,"column":15},"generated":{"line":1,"column":869}},{"source":"scripts\\research-contact.js","name":"innerHTML","original":{"line":42,"column":15},"generated":{"line":1,"column":871}},{"source":"scripts\\research-contact.js","original":{"line":42,"column":27},"generated":{"line":1,"column":881}},{"source":"scripts\\research-contact.js","name":"classList","original":{"line":44,"column":9},"generated":{"line":1,"column":884}},{"source":"scripts\\research-contact.js","name":"classList","original":{"line":44,"column":9},"generated":{"line":1,"column":886}},{"source":"scripts\\research-contact.js","name":"add","original":{"line":44,"column":19},"generated":{"line":1,"column":896}},{"source":"scripts\\research-contact.js","original":{"line":44,"column":23},"generated":{"line":1,"column":900}},{"source":"scripts\\research-contact.js","name":"classList","original":{"line":45,"column":11},"generated":{"line":1,"column":911}},{"source":"scripts\\research-contact.js","name":"classList","original":{"line":45,"column":11},"generated":{"line":1,"column":913}},{"source":"scripts\\research-contact.js","name":"add","original":{"line":45,"column":21},"generated":{"line":1,"column":923}},{"source":"scripts\\research-contact.js","original":{"line":45,"column":25},"generated":{"line":1,"column":927}},{"source":"scripts\\research-contact.js","name":"checkingForm","original":{"line":48,"column":13},"generated":{"line":1,"column":937}},{"source":"scripts\\research-contact.js","name":"checkingForm","original":{"line":48,"column":13},"generated":{"line":1,"column":948}},{"source":"scripts\\research-contact.js","original":{"line":48,"column":27},"generated":{"line":1,"column":950}},{"source":"scripts\\research-contact.js","original":{"line":52,"column":0},"generated":{"line":1,"column":955}},{"source":"scripts\\research-contact.js","name":"checkingForm","original":{"line":52,"column":9},"generated":{"line":1,"column":964}},{"source":"scripts\\research-contact.js","name":"inputsValid","original":{"line":53,"column":6},"generated":{"line":1,"column":968}},{"source":"scripts\\research-contact.js","name":"inputsValid","original":{"line":53,"column":6},"generated":{"line":1,"column":972}},{"source":"scripts\\research-contact.js","original":{"line":53,"column":20},"generated":{"line":1,"column":975}},{"source":"scripts\\research-contact.js","name":"error","original":{"line":54,"column":6},"generated":{"line":1,"column":977}},{"source":"scripts\\research-contact.js","original":{"line":54,"column":14},"generated":{"line":1,"column":979}},{"source":"scripts\\research-contact.js","name":"validator","original":{"line":56,"column":7},"generated":{"line":1,"column":982}},{"source":"scripts\\research-contact.js","name":"isByteLength","original":{"line":56,"column":17},"generated":{"line":1,"column":992}},{"source":"scripts\\research-contact.js","name":"instituteInput","original":{"line":56,"column":30},"generated":{"line":1,"column":1005}},{"source":"scripts\\research-contact.js","name":"value","original":{"line":56,"column":45},"generated":{"line":1,"column":1007}},{"source":"scripts\\research-contact.js","original":{"line":56,"column":52},"generated":{"line":1,"column":1013}},{"source":"scripts\\research-contact.js","name":"min","original":{"line":56,"column":54},"generated":{"line":1,"column":1014}},{"source":"scripts\\research-contact.js","original":{"line":56,"column":59},"generated":{"line":1,"column":1018}},{"source":"scripts\\research-contact.js","original":{"line":58,"column":18},"generated":{"line":1,"column":1024}},{"source":"scripts\\research-contact.js","original":{"line":58,"column":18},"generated":{"line":1,"column":1027}},{"source":"scripts\\research-contact.js","name":"push","original":{"line":59,"column":10},"generated":{"line":1,"column":1029}},{"source":"scripts\\research-contact.js","name":"push","original":{"line":59,"column":10},"generated":{"line":1,"column":1031}},{"source":"scripts\\research-contact.js","original":{"line":59,"column":15},"generated":{"line":1,"column":1036}},{"source":"scripts\\research-contact.js","name":"validator","original":{"line":61,"column":7},"generated":{"line":1,"column":1089}},{"source":"scripts\\research-contact.js","name":"isByteLength","original":{"line":61,"column":17},"generated":{"line":1,"column":1099}},{"source":"scripts\\research-contact.js","name":"nameInput","original":{"line":61,"column":30},"generated":{"line":1,"column":1112}},{"source":"scripts\\research-contact.js","name":"value","original":{"line":61,"column":40},"generated":{"line":1,"column":1114}},{"source":"scripts\\research-contact.js","original":{"line":61,"column":47},"generated":{"line":1,"column":1120}},{"source":"scripts\\research-contact.js","name":"min","original":{"line":61,"column":49},"generated":{"line":1,"column":1121}},{"source":"scripts\\research-contact.js","original":{"line":61,"column":54},"generated":{"line":1,"column":1125}},{"source":"scripts\\research-contact.js","original":{"line":63,"column":18},"generated":{"line":1,"column":1131}},{"source":"scripts\\research-contact.js","original":{"line":63,"column":18},"generated":{"line":1,"column":1134}},{"source":"scripts\\research-contact.js","name":"push","original":{"line":64,"column":10},"generated":{"line":1,"column":1136}},{"source":"scripts\\research-contact.js","name":"push","original":{"line":64,"column":10},"generated":{"line":1,"column":1138}},{"source":"scripts\\research-contact.js","original":{"line":64,"column":15},"generated":{"line":1,"column":1143}},{"source":"scripts\\research-contact.js","name":"validator","original":{"line":66,"column":7},"generated":{"line":1,"column":1186}},{"source":"scripts\\research-contact.js","name":"isEmail","original":{"line":66,"column":17},"generated":{"line":1,"column":1196}},{"source":"scripts\\research-contact.js","name":"emailInput","original":{"line":66,"column":25},"generated":{"line":1,"column":1204}},{"source":"scripts\\research-contact.js","name":"value","original":{"line":66,"column":36},"generated":{"line":1,"column":1206}},{"source":"scripts\\research-contact.js","original":{"line":68,"column":18},"generated":{"line":1,"column":1215}},{"source":"scripts\\research-contact.js","original":{"line":68,"column":18},"generated":{"line":1,"column":1218}},{"source":"scripts\\research-contact.js","name":"push","original":{"line":69,"column":10},"generated":{"line":1,"column":1220}},{"source":"scripts\\research-contact.js","name":"push","original":{"line":69,"column":10},"generated":{"line":1,"column":1222}},{"source":"scripts\\research-contact.js","original":{"line":69,"column":15},"generated":{"line":1,"column":1227}},{"source":"scripts\\research-contact.js","name":"validator","original":{"line":71,"column":7},"generated":{"line":1,"column":1247}},{"source":"scripts\\research-contact.js","name":"isByteLength","original":{"line":71,"column":17},"generated":{"line":1,"column":1257}},{"source":"scripts\\research-contact.js","name":"messageInput","original":{"line":71,"column":30},"generated":{"line":1,"column":1270}},{"source":"scripts\\research-contact.js","name":"value","original":{"line":71,"column":43},"generated":{"line":1,"column":1272}},{"source":"scripts\\research-contact.js","original":{"line":71,"column":50},"generated":{"line":1,"column":1278}},{"source":"scripts\\research-contact.js","name":"min","original":{"line":71,"column":52},"generated":{"line":1,"column":1279}},{"source":"scripts\\research-contact.js","original":{"line":71,"column":57},"generated":{"line":1,"column":1283}},{"source":"scripts\\research-contact.js","original":{"line":73,"column":18},"generated":{"line":1,"column":1290}},{"source":"scripts\\research-contact.js","original":{"line":73,"column":18},"generated":{"line":1,"column":1293}},{"source":"scripts\\research-contact.js","name":"push","original":{"line":74,"column":10},"generated":{"line":1,"column":1295}},{"source":"scripts\\research-contact.js","name":"push","original":{"line":74,"column":10},"generated":{"line":1,"column":1297}},{"source":"scripts\\research-contact.js","original":{"line":74,"column":15},"generated":{"line":1,"column":1302}},{"source":"scripts\\research-contact.js","name":"inputsValid","original":{"line":79,"column":6},"generated":{"line":1,"column":1349}},{"source":"scripts\\research-contact.js","name":"createNewMessage","original":{"line":81,"column":4},"generated":{"line":1,"column":1351}},{"source":"scripts\\research-contact.js","name":"checkingError","original":{"line":84,"column":4},"generated":{"line":1,"column":1356}},{"source":"scripts\\research-contact.js","name":"log","original":{"line":85,"column":12},"generated":{"line":1,"column":1360}},{"source":"scripts\\research-contact.js","name":"log","original":{"line":85,"column":12},"generated":{"line":1,"column":1368}},{"source":"scripts\\research-contact.js","name":"error","original":{"line":85,"column":16},"generated":{"line":1,"column":1372}},{"source":"scripts\\research-contact.js","name":"innerHTML","original":{"line":86,"column":17},"generated":{"line":1,"column":1375}},{"source":"scripts\\research-contact.js","name":"innerHTML","original":{"line":86,"column":17},"generated":{"line":1,"column":1377}},{"source":"scripts\\research-contact.js","name":"error","original":{"line":86,"column":29},"generated":{"line":1,"column":1387}},{"source":"scripts\\research-contact.js","name":"join","original":{"line":86,"column":35},"generated":{"line":1,"column":1389}},{"source":"scripts\\research-contact.js","original":{"line":86,"column":40},"generated":{"line":1,"column":1394}},{"source":"scripts\\research-contact.js","original":{"line":91,"column":0},"generated":{"line":1,"column":1403}},{"source":"scripts\\research-contact.js","name":"checkingSuccess","original":{"line":91,"column":9},"generated":{"line":1,"column":1412}},{"source":"scripts\\research-contact.js","name":"classList","original":{"line":92,"column":18},"generated":{"line":1,"column":1416}},{"source":"scripts\\research-contact.js","name":"classList","original":{"line":92,"column":18},"generated":{"line":1,"column":1418}},{"source":"scripts\\research-contact.js","name":"add","original":{"line":92,"column":28},"generated":{"line":1,"column":1428}},{"source":"scripts\\research-contact.js","original":{"line":92,"column":32},"generated":{"line":1,"column":1432}},{"source":"scripts\\research-contact.js","name":"classList","original":{"line":93,"column":11},"generated":{"line":1,"column":1440}},{"source":"scripts\\research-contact.js","name":"classList","original":{"line":93,"column":11},"generated":{"line":1,"column":1442}},{"source":"scripts\\research-contact.js","name":"add","original":{"line":93,"column":21},"generated":{"line":1,"column":1452}},{"source":"scripts\\research-contact.js","original":{"line":93,"column":25},"generated":{"line":1,"column":1456}},{"source":"scripts\\research-contact.js","original":{"line":97,"column":0},"generated":{"line":1,"column":1464}},{"source":"scripts\\research-contact.js","name":"checkingError","original":{"line":97,"column":9},"generated":{"line":1,"column":1473}},{"source":"scripts\\research-contact.js","name":"classList","original":{"line":98,"column":9},"generated":{"line":1,"column":1477}},{"source":"scripts\\research-contact.js","name":"classList","original":{"line":98,"column":9},"generated":{"line":1,"column":1479}},{"source":"scripts\\research-contact.js","name":"remove","original":{"line":98,"column":19},"generated":{"line":1,"column":1489}},{"source":"scripts\\research-contact.js","original":{"line":98,"column":26},"generated":{"line":1,"column":1496}},{"source":"scripts\\research-contact.js","name":"classList","original":{"line":99,"column":11},"generated":{"line":1,"column":1507}},{"source":"scripts\\research-contact.js","name":"classList","original":{"line":99,"column":11},"generated":{"line":1,"column":1509}},{"source":"scripts\\research-contact.js","name":"remove","original":{"line":99,"column":21},"generated":{"line":1,"column":1519}},{"source":"scripts\\research-contact.js","original":{"line":99,"column":28},"generated":{"line":1,"column":1526}},{"source":"scripts\\research-contact.js","original":{"line":104,"column":0},"generated":{"line":1,"column":1536}},{"source":"scripts\\research-contact.js","name":"createNewMessage","original":{"line":104,"column":9},"generated":{"line":1,"column":1545}},{"source":"scripts\\research-contact.js","name":"timestamp","original":{"line":105,"column":8},"generated":{"line":1,"column":1549}},{"source":"scripts\\research-contact.js","name":"timestamp","original":{"line":105,"column":8},"generated":{"line":1,"column":1553}},{"source":"scripts\\research-contact.js","original":{"line":105,"column":21},"generated":{"line":1,"column":1556}},{"source":"scripts\\research-contact.js","name":"Date","original":{"line":105,"column":25},"generated":{"line":1,"column":1560}},{"source":"scripts\\research-contact.js","name":"dateToday","original":{"line":106,"column":8},"generated":{"line":1,"column":1565}},{"source":"scripts\\research-contact.js","name":"moment","original":{"line":106,"column":20},"generated":{"line":1,"column":1567}},{"source":"scripts\\research-contact.js","name":"format","original":{"line":106,"column":29},"generated":{"line":1,"column":1576}},{"source":"scripts\\research-contact.js","original":{"line":106,"column":36},"generated":{"line":1,"column":1583}},{"source":"scripts\\research-contact.js","name":"collection","original":{"line":107,"column":5},"generated":{"line":1,"column":1597}},{"source":"scripts\\research-contact.js","name":"collection","original":{"line":107,"column":5},"generated":{"line":1,"column":1599}},{"source":"scripts\\research-contact.js","original":{"line":107,"column":16},"generated":{"line":1,"column":1610}},{"source":"scripts\\research-contact.js","name":"add","original":{"line":108,"column":5},"generated":{"line":1,"column":1622}},{"source":"scripts\\research-contact.js","original":{"line":108,"column":9},"generated":{"line":1,"column":1626}},{"source":"scripts\\research-contact.js","name":"dateToday","original":{"line":109,"column":12},"generated":{"line":1,"column":1627}},{"source":"scripts\\research-contact.js","name":"dateToday","original":{"line":109,"column":12},"generated":{"line":1,"column":1632}},{"source":"scripts\\research-contact.js","name":"instituteInput","original":{"line":110,"column":17},"generated":{"line":1,"column":1634}},{"source":"scripts\\research-contact.js","name":"instituteInput","original":{"line":110,"column":17},"generated":{"line":1,"column":1644}},{"source":"scripts\\research-contact.js","name":"value","original":{"line":110,"column":32},"generated":{"line":1,"column":1646}},{"source":"scripts\\research-contact.js","name":"nameInput","original":{"line":111,"column":12},"generated":{"line":1,"column":1652}},{"source":"scripts\\research-contact.js","name":"nameInput","original":{"line":111,"column":12},"generated":{"line":1,"column":1657}},{"source":"scripts\\research-contact.js","name":"value","original":{"line":111,"column":22},"generated":{"line":1,"column":1659}},{"source":"scripts\\research-contact.js","name":"emailInput","original":{"line":112,"column":13},"generated":{"line":1,"column":1665}},{"source":"scripts\\research-contact.js","name":"emailInput","original":{"line":112,"column":13},"generated":{"line":1,"column":1671}},{"source":"scripts\\research-contact.js","name":"value","original":{"line":112,"column":24},"generated":{"line":1,"column":1673}},{"source":"scripts\\research-contact.js","name":"messageInput","original":{"line":113,"column":15},"generated":{"line":1,"column":1679}},{"source":"scripts\\research-contact.js","name":"messageInput","original":{"line":113,"column":15},"generated":{"line":1,"column":1687}},{"source":"scripts\\research-contact.js","name":"value","original":{"line":113,"column":28},"generated":{"line":1,"column":1689}},{"source":"scripts\\research-contact.js","name":"timestamp","original":{"line":114,"column":17},"generated":{"line":1,"column":1695}},{"source":"scripts\\research-contact.js","name":"timestamp","original":{"line":114,"column":17},"generated":{"line":1,"column":1705}},{"source":"scripts\\research-contact.js","name":"then","original":{"line":116,"column":5},"generated":{"line":1,"column":1709}},{"source":"scripts\\research-contact.js","original":{"line":116,"column":10},"generated":{"line":1,"column":1714}},{"source":"scripts\\research-contact.js","name":"docRef","original":{"line":116,"column":19},"generated":{"line":1,"column":1723}},{"source":"scripts\\research-contact.js","name":"log","original":{"line":117,"column":14},"generated":{"line":1,"column":1726}},{"source":"scripts\\research-contact.js","name":"log","original":{"line":117,"column":14},"generated":{"line":1,"column":1734}},{"source":"scripts\\research-contact.js","original":{"line":117,"column":18},"generated":{"line":1,"column":1738}},{"source":"scripts\\research-contact.js","name":"docRef","original":{"line":117,"column":48},"generated":{"line":1,"column":1767}},{"source":"scripts\\research-contact.js","name":"id","original":{"line":117,"column":55},"generated":{"line":1,"column":1769}},{"source":"scripts\\research-contact.js","name":"checkingSuccess","original":{"line":118,"column":6},"generated":{"line":1,"column":1773}},{"source":"scripts\\research-contact.js","name":"catch","original":{"line":120,"column":5},"generated":{"line":1,"column":1779}},{"source":"scripts\\research-contact.js","original":{"line":120,"column":11},"generated":{"line":1,"column":1785}},{"source":"scripts\\research-contact.js","name":"error","original":{"line":120,"column":20},"generated":{"line":1,"column":1794}},{"source":"scripts\\research-contact.js","name":"error","original":{"line":121,"column":14},"generated":{"line":1,"column":1797}},{"source":"scripts\\research-contact.js","name":"error","original":{"line":121,"column":14},"generated":{"line":1,"column":1805}},{"source":"scripts\\research-contact.js","original":{"line":121,"column":20},"generated":{"line":1,"column":1811}},{"source":"scripts\\research-contact.js","name":"error","original":{"line":121,"column":47},"generated":{"line":1,"column":1837}},{"source":"scripts\\research-contact.js","name":"checkingError","original":{"line":122,"column":6},"generated":{"line":1,"column":1840}},{"source":"scripts\\research-contact.js","name":"textContent","original":{"line":123,"column":19},"generated":{"line":1,"column":1844}},{"source":"scripts\\research-contact.js","name":"textContent","original":{"line":123,"column":19},"generated":{"line":1,"column":1846}},{"source":"scripts\\research-contact.js","original":{"line":124,"column":8},"generated":{"line":1,"column":1858}},{"source":"scripts\\research-contact.js","name":"submitButton","original":{"line":37,"column":0},"generated":{"line":1,"column":1925}},{"source":"scripts\\research-contact.js","name":"addEventListener","original":{"line":37,"column":13},"generated":{"line":1,"column":1927}},{"source":"scripts\\research-contact.js","original":{"line":37,"column":30},"generated":{"line":1,"column":1944}},{"source":"scripts\\research-contact.js","name":"handleSubmitClick","original":{"line":37,"column":39},"generated":{"line":1,"column":1952}}],"sources":{"scripts\\research-contact.js":"// FIREBASE\r\nvar config = {\r\n  apiKey: \"AIzaSyBrTXlPTks8CPKRbZBSDnTXpPaotL4Wpwg\",\r\n  authDomain: \"polyeco-eda86.firebaseapp.com\",\r\n  databaseURL: \"https://polyeco-eda86.firebaseio.com\",\r\n  projectId: \"polyeco-eda86\",\r\n  storageBucket: \"polyeco-eda86.appspot.com\",\r\n  messagingSenderId: \"86781747630\"\r\n};\r\nfirebase.initializeApp(config);\r\n\r\n// Initialize Cloud Firestore through Firebase\r\nconst db = firebase.firestore();\r\n\r\n// Disable deprecated features\r\ndb.settings({\r\n  timestampsInSnapshots: true\r\n});\r\n\r\n//THE REST OF CONTACT.HTML\r\nconst submitButton = document.querySelector(\"input[type='submit']\");\r\nconst submit = document.querySelector(\"form .submit\");\r\nconst errorMessage = document.querySelector(\"form .error-message\");\r\nconst checking = document.querySelector(\"form .checking\");\r\nconst submitContainer = document.querySelector(\"form .submit .container\");\r\nconst instituteInput = document.querySelector(\r\n  \"#research-contact input[name='institute']\"\r\n);\r\nconst nameInput = document.querySelector(\r\n  \"#research-contact input[name='name']\"\r\n);\r\nconst emailInput = document.querySelector(\r\n  \"#research-contact input[name='email']\"\r\n);\r\nconst messageInput = document.querySelector(\"#research-contact textarea\");\r\n\r\nsubmitButton.addEventListener(\"click\", handleSubmitClick);\r\n\r\n//Handle the click on the submit button\r\nfunction handleSubmitClick(e) {\r\n  e.preventDefault();\r\n  errorMessage.innerHTML = \"\";\r\n  //Activate loading animation\r\n  submit.classList.add(\"move-up\");\r\n  checking.classList.add(\"active\");\r\n\r\n  //Check\r\n  setTimeout(checkingForm, 1000);\r\n}\r\n\r\n//Checking input fields for submit, display loading\r\nfunction checkingForm() {\r\n  let inputsValid = true;\r\n  let error = []; //Store all error masssges inside here\r\n\r\n  if (!validator.isByteLength(instituteInput.value, { min: 3 })) {\r\n    //institute invalid\r\n    inputsValid = false;\r\n    error.push(\"- Institute name has to be at least 3 characters\");\r\n  }\r\n  if (!validator.isByteLength(nameInput.value, { min: 3 })) {\r\n    //name invalid\r\n    inputsValid = false;\r\n    error.push(\"- Name has to be at least 3 characters\");\r\n  }\r\n  if (!validator.isEmail(emailInput.value)) {\r\n    //email invalid\r\n    inputsValid = false;\r\n    error.push(\"- Invalid email\");\r\n  }\r\n  if (!validator.isByteLength(messageInput.value, { min: 15 })) {\r\n    //message invalid\r\n    inputsValid = false;\r\n    error.push(\"- Message has to be at least 15 characters\");\r\n  }\r\n\r\n  //inputsValid = true;\r\n\r\n  if (inputsValid) {\r\n    //inputs are valid, continue\r\n    createNewMessage();\r\n  } else {\r\n    //inputs are invalid, reject\r\n    checkingError();\r\n    console.log(error);\r\n    errorMessage.innerHTML = error.join(\"<br>\");\r\n  }\r\n}\r\n\r\n//Submit was successfull, display the success\r\nfunction checkingSuccess() {\r\n  submitContainer.classList.add(\"send\");\r\n  checking.classList.add(\"send\");\r\n}\r\n\r\n//Submit failed due input errors, revert to button\r\nfunction checkingError() {\r\n  submit.classList.remove(\"move-up\");\r\n  checking.classList.remove(\"active\");\r\n}\r\n\r\n//FIREBASE CREATE MESSAGE\r\n\r\nfunction createNewMessage() {\r\n  const timestamp = +new Date();\r\n  const dateToday = moment().format(\"DD/MM/YYYY\");\r\n  db.collection(\"messages\")\r\n    .add({\r\n      date: dateToday,\r\n      institute: instituteInput.value,\r\n      name: nameInput.value,\r\n      email: emailInput.value,\r\n      message: messageInput.value,\r\n      timestamp: timestamp\r\n    })\r\n    .then(function(docRef) {\r\n      console.log(\"Document written with ID: \", docRef.id);\r\n      checkingSuccess();\r\n    })\r\n    .catch(function(error) {\r\n      console.error(\"Error adding document: \", error);\r\n      checkingError();\r\n      errorMessage.textContent =\r\n        \"Error sending message. Please write directly to hi@polyeco.com\";\r\n    });\r\n}\r\n"},"lineCount":null}},"hash":"c8d0b07ff9fbd472c83907f246797d4e","cacheData":{"env":{}}}